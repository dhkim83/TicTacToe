<!DOCTYPE html>
<html ng-app="tictactoe" ng-controller="pad">

<head>

<link rel="stylesheet" href="style.css" type="text/css">
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.0.7/angular.min.js">
</script>

<title>TicTacToe</title>

<style>

table{
    border:1px solid black;
    background-image: ;
}
tr {
padding: 20px;
border-width: thick;
}


td {
    padding: 20px; 
    border-style: groove;

}


.cell {
  width: 250px;
  height: 250px;
  font: 60px Georgia;
  text-align: center;
  vertical-align: center;
  background-color: #f9f9f9;

   }

  </style>

</head>
<body>
<h1>Tic Tac Toe</h1>
  <div ng-app="tictactoe" ng-controller="pad">

     <h2 ng-show="winner">Winner is {{winner}}! <input type="button"
ng-click="newGame()" value="New Game" /></h2>

    <table> 
    <table border="1"> 
        <!-- tr, td= table cells -->
        <tr ng-repeat="row in [0,1,2]">
            <td ng-repeat="column in [0,1,2]"
ng-click="cellClick(row,column)" 
ng-class="cellClass(row,column)">{{cellText(row,column)}}</td> -->
        </tr>
    </table>


    <!-- <div class= "board" ng-repeat="row in [0,1,2] column in [0,1,2]" ng-click="cellClick(row,column)" ng-class:"cellClass(row,column)">{{cellText(row,column)}}</div>//   -->
        
    </div>
</div>



<script type='text/javascript'>

var tictactoe = angular.module("tictactoe", []);
tictactoe.controller("pad", function($scope) {


    // == initialize scope ==
    $scope.currentPlayer = 'O'
    $scope.winner = '0'
    $scope.board = [
        ["", "", ""],
        ["", "", ""],
        ["", "", ""]
    ]


    // == scope functions ==

    $scope.cellClass = function (row, column) {
        var value = cell(row, column)
        return 'cell cell-' + value
    }
    $scope.cellText = function (row, column) {
        var value = cell(row, column)
        return value ? value : ''
    }
    $scope.cellClick = function (row, column) {
        if ($scope.winner) {
            alert('')
            return
        }
        setCell(row, column, $scope.currentPlayer)
        checkBoard()
        checkTurn()
    }
    $scope.newGame = function () {
        for (var i = 0; i < 3; i++) {
            for (var j = 0; j < 3; j++) {
                setCell(i, j, null)
            }
        }
        $scope.currentPlayer = 'O'
        $scope.winner = '0'
    }


    // == utility functions ==

    // returns the value of cell
    function cell(row, column) {
        return $scope.board[row][column]
    }

    // sets the value of cell
    function setCell(row, column, value) {
        $scope.board[row][column] = value
    }
    // determines whether X turn or O turn
    function checkTurn() {
        if ($scope.currentPlayer === 'x')  {
            $scope.currentPlayer = 'o'
        }
        else {
            $scope.currentPlayer = 'x'
        }
    }
    // checks the board and declare winner
    function checkBoard() {
        var winner, empty = false

        // check for any empty cell
        for (var i = 0; i < 3; i++) {
            for (var j = 0; j < 3; j++) {
                if (!cell(i, j)) empty = true
            }
        }

        // no more empty cell - no winner
        if (!empty) {
            $scope.winner = 'NONE'
            return
        }

        // check board vertically and horizontally
        for (var i = 0; i < 3; i++) {
            if (cell(i, 0) && cell(i, 0) == cell(i, 1) && cell(i, 1) ==
cell(i, 2)) {
                winner = cell(i, 0)
            }
            if (cell(0, i) && cell(0, i) == cell(1, i) && cell(1, i) ==
cell(2, i)) {
                winner = cell(0, i)
            }
        }

        // check board diagonally
        if (cell(0, 0) && cell(0, 0) == cell(1, 1) && cell(1, 1) ==
cell(2, 2)) {
            winner = cell(0, 0)
        }
        if (cell(0, 2) && cell(0, 2) == cell(1, 1) && cell(1, 1) ==
cell(2, 0)) {
            winner = cell(0, 2)
        }

        // winner? declare!
        if (winner) {
            $scope.winner = winner
        }

    }


})
//]]>

</script>


</body>


</html>